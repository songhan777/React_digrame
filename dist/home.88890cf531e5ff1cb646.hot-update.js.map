{"version":3,"sources":["webpack:///./src/container/HomePage/index.js"],"names":["HomePage","props","state","value","username","password","showPassword","foucse","formdataChange","setState","prop","event","target","handleClickShowPassword","handleChange","handleType","login","data","then","resData","console","log","code","history","psuh","alert","catch","err","oauth","redirect_uri","DEV","authWin","window","open","timerId","setInterval","clearInterval","close","location","reload","classes","root","AppRoot","toolBar","grow","growLogo","indicator","tabsIndicator","Link","first","modle","textColor","loging","cssLabel","focused","cssFocused","underline","cssUnderline","display","endAdornment","loginButton","forgetButton","singUpButton","footer","center","Component","styles"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;;;;;;;IAEMA,Q;;;AACF,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA,wHACTA,KADS;;AAAA,cAGnBC,KAHmB,GAGX;AACJC,mBAAO,CADH,EACK;AACTC,sBAAS,EAFL,EAEQ;AACZC,sBAAU,EAHN,EAGS;AACbC,0BAAc,KAJV;AAKJC,oBAAQ;AALJ,SAHW;;AAAA,cAenBC,cAfmB,GAeF;AAAA,mBAAQ,iBAAS;AAC9B,sBAAKC,QAAL,qBAAgBC,IAAhB,EAAuBC,MAAMC,MAAN,CAAaT,KAApC;AACH,aAFgB;AAAA,SAfE;;AAAA,cAmBnBU,uBAnBmB,GAmBO,YAAM;AAC5B,kBAAKJ,QAAL,CAAc;AAAA,uBAAU,EAACH,cAAc,CAACJ,MAAMI,YAAtB,EAAV;AAAA,aAAd;AACH,SArBkB;;AAAA,cAuBnBQ,YAvBmB,GAuBJ,UAACH,KAAD,EAAQR,KAAR,EAAkB;AAC7B,kBAAKM,QAAL,CAAc,EAACN,YAAD,EAAd;AACH,SAzBkB;;AAAA,cA2BnBY,UA3BmB,GA2BN,YAAM;AACf,kBAAKN,QAAL,CAAc,EAACF,QAAQ,IAAT,EAAd;AACH,SA7BkB;;AAAA,cAmCnBS,KAnCmB,GAmCX,YAAM;AACV,gBAAMC,OAAO,EAACb,UAAS,MAAKF,KAAL,CAAWE,QAArB,EAA+BC,UAAU,MAAKH,KAAL,CAAWG,QAApD,EAAb;AACA,kCAAYY,IAAZ,EAAkBC,IAAlB,CAAuB,UAACC,OAAD,EAAa;AAChCC,wBAAQC,GAAR,CAAYF,OAAZ;AACAC,wBAAQC,GAAR,CAAYF,QAAQG,IAAR,IAAgB,CAA5B;AACA,oBAAKH,QAAQG,IAAR,IAAgB,CAArB,EAAwB;AACpB,0BAAKrB,KAAL,CAAWsB,OAAX,CAAmBC,IAAnB,CAAwB,MAAxB;AACH,iBAFD,MAEO;AACHC,0BAAM,cAAN;AACH;AACJ,aARD,EAQGC,KARH,CAQS,UAACC,GAAD,EAAQ;AACbF,sBAAM,cAAN;AACH,aAVD;AAWH,SAhDkB;;AAAA,cAsDnBG,KAtDmB,GAsDX,YAAM;AACV,gBAAIC,eAAe,IAAnB;AACA,gBAAIC,IAAJ,EAAS;AACLD,+BAAe,wCAAf;AACH,aAFD,MAEO,EAEN;AACD,gBAAME,UAAUC,OAAOC,IAAP,2FAAoGJ,YAApG,wBAAqI,QAArI,CAAhB;;AAEA,gBAAMK,UAAUC,YAAY,YAAY;AACpC,yCAAejB,IAAf,CAAoB,UAACD,IAAD,EAAS;AACzB,wBAAGA,KAAKK,IAAL,KAAc,CAAjB,EAAqB;AACjBc,sCAAcF,OAAd;AACAH,gCAAQM,KAAR;AACAL,+BAAOM,QAAP,CAAgBC,MAAhB;AACH;AACJ,iBAND;AAOH,aARe,CAAhB;AASH,SAxEkB;;AAAA;AAElB;;;;4CASmB,CAEnB;AAiBD;;;;;;AAmBA;;;;;;;;iCAyBS;AAAA;;AAAA,gBACEC,OADF,GACa,KAAKvC,KADlB,CACEuC,OADF;AAAA,gBAEErC,KAFF,GAEW,KAAKD,KAFhB,CAEEC,KAFF;;AAGL,mBACI;AAAA;AAAA,kBAAK,WAAWqC,QAAQC,IAAxB;AACI;AAAC,oCAAD;AAAA,sBAAQ,UAAS,QAAjB,EAA0B,WAAWD,QAAQE,OAA7C;AACI;AAAC,yCAAD;AAAA,0BAAS,WAAWF,QAAQG,OAA5B;AACI;AAAA;AAAA,8BAAK,WAAWH,QAAQI,IAAxB;AACI;AAAC,oDAAD;AAAA;AACI,6CAAQ,IADZ;AAEI,2CAAM,SAFV;AAGI,+CAAWJ,QAAQK;AAHvB;AAAA;AAAA,6BADJ;AAQI;AAAC,8CAAD;AAAA,kCAAM,OAAO1C,KAAb,EAAoB,UAAU,KAAKW,YAAnC;AACM,6CAAS,EAACgC,WAAWN,QAAQO,aAApB,EADf;AAEI,8DAAC,aAAD,IAAK,OAAM,eAAX,GAFJ;AAGI,8DAAC,aAAD,IAAK,OAAM,eAAX,GAHJ;AAII,8DAAC,aAAD,IAAK,OAAM,eAAX;AAJJ;AARJ,yBADJ;AAgBI;AAAC,gDAAD;AAAA,8BAAY,OAAM,SAAlB,EAA4B,cAAW,MAAvC,EAA8C,WAAWC,oBAAzD,EAA+D,IAAG,MAAlE;AACI,0DAAC,0BAAD;AADJ,yBAhBJ;AAmBI;AAAC,gDAAD;AAAA,8BAAY,OAAM,SAAlB,EAA4B,cAAW,MAAvC;AACI,0DAAC,sBAAD;AADJ;AAnBJ;AADJ,iBADJ;AA0BI;AAAA;AAAA,sBAAK,WAAWR,QAAQS,KAAxB;AACI;AAAA;AAAA,0BAAK,WAAWT,QAAQU,KAAxB;AACI;AAAC,gDAAD;AAAA,8BAAY,kBAAZ,EAAyB,SAAQ,IAAjC,EAAsC,WAAU,IAAhD,EAAqD,WAAWV,QAAQW,SAAxE;AAAA;AAAA,yBADJ;AAII;AAAC,gDAAD;AAAA,8BAAY,WAAU,GAAtB,EAA0B,WAAWX,QAAQW,SAA7C;AAAA;AAAA,yBAJJ;AAOI;AAAA;AAAA,8BAAK,WAAWX,QAAQY,MAAxB;AACI;AAAA;AAAA;AACI;AAAC,kDAAD;AAAA,sCAAM,eAAN,EAAgB,SAAS,CAAzB,EAA4B,YAAW,UAAvC;AACI;AAAC,sDAAD;AAAA,0CAAM,UAAN;AACI,sEAAC,gBAAD;AADJ,qCADJ;AAII;AAAC,sDAAD;AAAA,0CAAM,UAAN;AACI,sEAAC,mBAAD,IAAW,IAAG,sBAAd,EAAqC,OAAM,oBAA3C,EAAiD,WAAW,KAA5D;AACI,sDAAU,KAAK5C,cAAL,CAAoB,UAApB,CADd;AAEI,6DAAiB;AACbgC,yDAAS;AACLC,0DAAMD,QAAQa,QADT;AAELC,6DAASd,QAAQe;AAFZ;AADI,6CAFrB;AAQI,wDAAY;AACRf,yDAAS;AACLgB,+DAAWhB,QAAQiB;AADd;AADD;AARhB;AADJ;AAJJ;AADJ,6BADJ;AAwBI,6FAAO,MAAK,MAAZ,EAAmB,MAAK,EAAxB,kDAAgC,MAAhC,kDAA8C,EAACC,SAAS,MAAV,EAA9C,yBAxBJ;AAyBI;AAAA;AAAA;AACI;AAAC,kDAAD;AAAA,sCAAM,eAAN,EAAgB,SAAS,CAAzB,EAA4B,YAAW,UAAvC;AACI;AAAC,sDAAD;AAAA,0CAAM,UAAN;AACI,sEAAC,cAAD;AADJ,qCADJ;AAII;AAAC,sDAAD;AAAA,0CAAM,UAAN;AACI,sEAAC,mBAAD;AACI,gDAAG,2BADP;AAEI,kDAAM,CAAC,KAAKxD,KAAL,CAAWK,MAAZ,IAAsB,KAAKL,KAAL,CAAWI,YAAjC,GAAgD,MAAhD,GAAyD,UAFnE;AAGI,mDAAM,cAHV;AAII,mDAAO,KAAKJ,KAAL,CAAWG,QAJtB;AAKI,sDAAU,KAAKG,cAAL,CAAoB,UAApB,CALd;AAMI,qDAAS,KAAKO,UANlB;AAOI,6DAAiB;AACbyB,yDAAS;AACLC,0DAAMD,QAAQa,QADT;AAELC,6DAASd,QAAQe;AAFZ;AADI,6CAPrB;AAaI,wDAAY;AACRf,yDAAS;AACLgB,+DAAWhB,QAAQiB;AADd,iDADD;AAIRE,8DACI;AAAC,4EAAD;AAAA,sDAAgB,UAAS,KAAzB;AACI;AAAC,4EAAD;AAAA;AACI,0EAAW,gCADf;AAEI,qEAAS,KAAK9C;AAFlB;AAIK,6DAAKX,KAAL,CAAWI,YAAX,GACG,8BAAC,uBAAD,IAAe,WAAWkC,QAAQW,SAAlC,GADH,GAEG,8BAAC,oBAAD,IAAY,WAAWX,QAAQW,SAA/B;AANR;AADJ;AALI;AAbhB;AADJ;AAJJ;AADJ;AAzBJ,yBAPJ;AA0EI;AAAC,4CAAD;AAAA,8BAAS,SAAQ,WAAjB,EAA6B,WAAWX,QAAQoB,WAAhD,EAA6D,MAAK,QAAlE,EAA2E,SAAS,KAAK5C,KAAzF;AAAA;AAAA,yBA1EJ;AA2EI;AAAC,4CAAD;AAAA,8BAAQ,WAAWwB,QAAQqB,YAA3B,EAAyC,SAAS,KAAKjC,KAAvD;AAAA;AAAA,yBA3EJ;AA4EI;AAAC,4CAAD;AAAA,8BAAQ,WAAWY,QAAQqB,YAA3B,EAAyC,WAAWb,oBAApD,EAA0D,IAAG,QAA7D;AAAA;AAAA,yBA5EJ;AA6EI;AAAC,4CAAD;AAAA,8BAAQ,WAAWR,QAAQsB,YAA3B,EAAyC,WAAWd,oBAApD,EAA0D,IAAG,WAA7D;AAAA;AAAA;AA7EJ,qBADJ;AAgFI,2DAAK,WAAWR,QAAQuB,MAAxB,GAhFJ;AAkFI,2DAAK,WAAWvB,QAAQwB,MAAxB;AAlFJ;AA1BJ,aADJ;AAkHH;;;;EAhMkBC,gB;;kBAmMR,sBAAWC,WAAX,EAAmB,gCAAWlE,QAAX,CAAnB,C","file":"home.88890cf531e5ff1cb646.hot-update.js","sourcesContent":["import React, {Component} from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { withStyles } from '@material-ui/core'\r\nimport { Link, withRouter} from 'react-router-dom'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SettinsOutlined from '@material-ui/icons/SettingsOutlined'\r\nimport PermIdentity from '@material-ui/icons/PermIdentity'\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Person from '@material-ui/icons/Person';\r\nimport Lock from '@material-ui/icons/Lock'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport { getOAuthJson, postSession} from '../../API/API'\r\nimport {styles} from './css'\r\n\r\nclass HomePage extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n    }\r\n    state = {\r\n        value: 0,//home页头上的三个导航栏值\r\n        username:'',//输入的用户名\r\n        password: '',//输入的密码\r\n        showPassword: false,\r\n        foucse: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    formdataChange = prop => event => {\r\n        this.setState({[prop]: event.target.value});\r\n    };\r\n\r\n    handleClickShowPassword = () => {\r\n        this.setState(state => ({showPassword: !state.showPassword}));\r\n    };\r\n\r\n    handleChange = (event, value) => {\r\n        this.setState({value});\r\n    };\r\n\r\n    handleType = () => {\r\n        this.setState({foucse: true})\r\n    }\r\n    /**\r\n     *\r\n     *登录函数，点击登录发送数据\r\n     * @memberof HomePage\r\n     */\r\n    login = () => {\r\n        const data = {username:this.state.username, password: this.state.password}\r\n        postSession(data).then((resData) => {\r\n            console.log(resData)\r\n            console.log(resData.code == 0)\r\n            if ( resData.code == 0) {\r\n                this.props.history.psuh('/pjl')\r\n            } else {\r\n                alert(\"登录失败刷新页面重新登录\")\r\n            }\r\n        }).catch((err) =>{\r\n            alert(\"登录失败刷新页面重新登录\")\r\n        })\r\n    }\r\n    /**\r\n     *\r\n     *github oauth\r\n     * @memberof HomePage\r\n     */\r\n    oauth = () => {\r\n        let redirect_uri = null;\r\n        if (DEV) {\r\n            redirect_uri = 'http://localhost:3000/user/oauth/gitcb'\r\n        } else {\r\n            redirect_uri = 'http://flow.dv.ailab.win/user/oauth/gitcb'\r\n        }\r\n        const authWin = window.open(`https://github.com/login/oauth/authorize?client_id=aeba3b94f917b3653e41&redirect_uri=${redirect_uri}&scope=user:email`, '_blank')\r\n\r\n        const timerId = setInterval(function () {\r\n            getOAuthJson().then((data) =>{\r\n                if(data.code === 0 ) {\r\n                    clearInterval(timerId)\r\n                    authWin.close()\r\n                    window.location.reload()\r\n                }\r\n            });\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        const {classes} = this.props\r\n        const {value} = this.state\r\n        return (\r\n            <div className={classes.root}>\r\n                <AppBar position=\"static\" className={classes.AppRoot}>\r\n                    <Toolbar className={classes.toolBar}>\r\n                        <div className={classes.grow}>\r\n                            <Typography\r\n                                variant=\"h6\"\r\n                                color=\"inherit\"\r\n                                className={classes.growLogo}\r\n                            >\r\n                                QITQI\r\n                            </Typography>\r\n                            <Tabs value={value} onChange={this.handleChange}\r\n                                  classes={{indicator: classes.tabsIndicator}}>\r\n                                <Tab label=\"首 页\"/>\r\n                                <Tab label=\"帮 助\"/>\r\n                                <Tab label=\"新 闻\"/>\r\n                            </Tabs>\r\n                        </div>\r\n                        <IconButton color=\"inherit\" aria-label=\"Menu\" component={Link} to=\"/pro\">\r\n                            <SettinsOutlined/>\r\n                        </IconButton>\r\n                        <IconButton color=\"inherit\" aria-label=\"Menu\">\r\n                            <PermIdentity/>\r\n                        </IconButton>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <div className={classes.first}>\r\n                    <div className={classes.modle}>\r\n                        <Typography gutterBottom variant=\"h5\" component=\"h2\" className={classes.textColor}>\r\n                            工 作 流 可 视 化 平 台\r\n                        </Typography>\r\n                        <Typography component=\"p\" className={classes.textColor}>\r\n                            Workflow visualization platform\r\n                        </Typography>\r\n                        <div className={classes.loging}>\r\n                            <div>\r\n                                <Grid container spacing={8} alignItems=\"flex-end\">\r\n                                    <Grid item>\r\n                                        <Person/>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField id=\"input-with-icon-grid\" label=\"用户名\" autoFocus={false}\r\n                                            onChange={this.formdataChange('username')}\r\n                                            InputLabelProps={{\r\n                                                classes: {\r\n                                                    root: classes.cssLabel,\r\n                                                    focused: classes.cssFocused\r\n                                                }\r\n                                            }}\r\n                                            InputProps={{\r\n                                                classes: {\r\n                                                    underline: classes.cssUnderline\r\n                                                }\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </div>\r\n                            <input type=\"text\" name=\"\" type=\"text\" style={{display: 'none'}}/>\r\n                            <div>\r\n                                <Grid container spacing={8} alignItems=\"flex-end\">\r\n                                    <Grid item>\r\n                                        <Lock/>\r\n                                    </Grid>\r\n                                    <Grid item>\r\n                                        <TextField\r\n                                            id=\"filled-adornment-password\"\r\n                                            type={!this.state.foucse || this.state.showPassword ? 'text' : 'password'}\r\n                                            label=\"密码\"\r\n                                            value={this.state.password}\r\n                                            onChange={this.formdataChange('password')}\r\n                                            onFocus={this.handleType}\r\n                                            InputLabelProps={{\r\n                                                classes: {\r\n                                                    root: classes.cssLabel,\r\n                                                    focused: classes.cssFocused\r\n                                                }\r\n                                            }}\r\n                                            InputProps={{\r\n                                                classes: {\r\n                                                    underline: classes.cssUnderline\r\n                                                },\r\n                                                endAdornment: (\r\n                                                    <InputAdornment position=\"end\">\r\n                                                        <IconButton\r\n                                                            aria-label=\"Toggle password     visibility\"\r\n                                                            onClick={this.handleClickShowPassword}\r\n                                                        >\r\n                                                            {this.state.showPassword ?\r\n                                                                <VisibilityOff className={classes.textColor}/> :\r\n                                                                <Visibility className={classes.textColor}/>}\r\n                                                        </IconButton>\r\n                                                    </InputAdornment>\r\n                                                ),\r\n                                            }}\r\n                                        />\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <Button  variant=\"contained\" className={classes.loginButton} size=\"medium\" onClick={this.login} >登 录</Button>\r\n                        <Button className={classes.forgetButton} onClick={this.oauth} >github</Button>\r\n                        <Button className={classes.forgetButton} component={Link} to=\"/Reset\">忘 记 密 码</Button>\r\n                        <Button className={classes.singUpButton} component={Link} to=\"/Register\">注 册</Button>\r\n                    </div>\r\n                    <div className={classes.footer}>\r\n                    </div>\r\n                    <div className={classes.center}>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(withRouter(HomePage))"],"sourceRoot":""}